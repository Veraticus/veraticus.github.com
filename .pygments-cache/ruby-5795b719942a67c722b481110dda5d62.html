<div class="highlight"><pre><span class="k">class</span> <span class="nc">Tag</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_many</span> <span class="ss">:taggings</span>

  <span class="n">has_many</span> <span class="ss">:addresses</span><span class="p">,</span> <span class="ss">through</span><span class="p">:</span> <span class="ss">:taggings</span><span class="p">,</span> <span class="ss">source</span><span class="p">:</span> <span class="ss">:taggable</span><span class="p">,</span> <span class="ss">source_type</span><span class="p">:</span> <span class="no">Address</span>
  <span class="n">has_many</span> <span class="ss">:users</span><span class="p">,</span> <span class="ss">through</span><span class="p">:</span> <span class="ss">:taggings</span><span class="p">,</span> <span class="ss">source</span><span class="p">:</span> <span class="ss">:taggable</span><span class="p">,</span> <span class="ss">source_type</span><span class="p">:</span> <span class="no">User</span>
<span class="k">end</span>
</pre></div>